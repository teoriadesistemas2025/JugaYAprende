
> rosco-app@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\auth\\login\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\auth\\register\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\games\\[code]\\answer\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[691,694],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[691,694],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1230,1233],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1230,1233],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport dbConnect from '@/lib/db';\r\nimport GameSession from '@/models/GameSession';\r\nimport GameConfig from '@/models/GameConfig';\r\n\r\nexport async function POST(req: Request, { params }: { params: Promise<{ code: string }> }) {\r\n    try {\r\n        await dbConnect();\r\n        const { player, letter, answer, action } = await req.json();\r\n        const { code } = await params;\r\n\r\n        const game = await GameSession.findOne({ code });\r\n        if (!game) return NextResponse.json({ message: 'Not found' }, { status: 404 });\r\n\r\n        const config = await GameConfig.findById(game.configId);\r\n        const question = config.questions.find((q: any) => q.letter === letter);\r\n\r\n        let isCorrect = false;\r\n        let status = 'pasapalabra';\r\n\r\n        if (action === 'answer') {\r\n            // Simple normalization for comparison\r\n            const normalize = (s: string) => s.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").trim();\r\n            isCorrect = normalize(answer) === normalize(question.answer);\r\n            status = isCorrect ? 'correct' : 'incorrect';\r\n        }\r\n\r\n        // Update player\r\n        const playerIndex = game.players.findIndex((p: any) => p.name === player);\r\n        if (playerIndex > -1) {\r\n            const p = game.players[playerIndex];\r\n            // Use set for Map in Mongoose\r\n            p.progress.set(letter, status);\r\n\r\n            if (isCorrect) {\r\n                p.score += 1;\r\n            }\r\n\r\n            game.markModified('players');\r\n            await game.save();\r\n        }\r\n\r\n        return NextResponse.json({ correct: isCorrect });\r\n    } catch (error) {\r\n        console.error(error);\r\n        return NextResponse.json({ message: 'Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\games\\[code]\\host\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\games\\[code]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[860,863],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[860,863],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport dbConnect from '@/lib/db';\r\nimport GameSession from '@/models/GameSession';\r\nimport GameConfig from '@/models/GameConfig';\r\n\r\nexport async function GET(req: Request, { params }: { params: Promise<{ code: string }> }) {\r\n    try {\r\n        await dbConnect();\r\n        const { searchParams } = new URL(req.url);\r\n        const player = searchParams.get('player');\r\n        const { code } = await params;\r\n\r\n        const game = await GameSession.findOne({ code });\r\n        if (!game) {\r\n            return NextResponse.json({ message: 'Game not found' }, { status: 404 });\r\n        }\r\n\r\n        // If player is requesting, we need to add them if not exists (for simplicity in this flow)\r\n        // Or just return their specific state\r\n        if (player) {\r\n            let playerObj = game.players.find((p: any) => p.name === player);\r\n\r\n            if (!playerObj && game.status === 'WAITING') {\r\n                // Add player if waiting\r\n                playerObj = { name: player, score: 0, progress: {}, finished: false };\r\n                game.players.push(playerObj);\r\n                await game.save();\r\n            }\r\n\r\n            // Fetch config if playing\r\n            let config = null;\r\n            if (game.status !== 'WAITING') {\r\n                config = await GameConfig.findById(game.configId).select('questions');\r\n            }\r\n\r\n            return NextResponse.json({\r\n                status: game.status,\r\n                startTime: game.startTime,\r\n                config, // Only send questions if playing\r\n                myProgress: playerObj?.progress,\r\n                myScore: playerObj?.score,\r\n            });\r\n        }\r\n\r\n        return NextResponse.json({ message: 'Player required' }, { status: 400 });\r\n    } catch (error) {\r\n        console.error(error);\r\n        return NextResponse.json({ message: 'Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\games\\[code]\\start\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\games\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\api\\roscos\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":28,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":48,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":48,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport dbConnect from '@/lib/db';\r\nimport GameConfig from '@/models/GameConfig';\r\nimport { cookies } from 'next/headers';\r\n\r\n// Helper to get user from cookie (simplified for this demo)\r\nasync function getUser() {\r\n    const cookieStore = await cookies();\r\n    const userCookie = cookieStore.get('rosco_user');\r\n    if (!userCookie) return null;\r\n    try {\r\n        return JSON.parse(userCookie.value);\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function GET() {\r\n    try {\r\n        await dbConnect();\r\n        const user = await getUser();\r\n        if (!user) {\r\n            return NextResponse.json({ message: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const roscos = await GameConfig.find({ creatorId: user.id }).sort({ createdAt: -1 });\r\n        return NextResponse.json(roscos);\r\n    } catch (error) {\r\n        return NextResponse.json({ message: 'Error' }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        await dbConnect();\r\n        const user = await getUser();\r\n        if (!user) {\r\n            return NextResponse.json({ message: 'Unauthorized' }, { status: 401 });\r\n        }\r\n\r\n        const body = await req.json();\r\n        const rosco = await GameConfig.create({\r\n            ...body,\r\n            creatorId: user.id,\r\n        });\r\n\r\n        return NextResponse.json(rosco, { status: 201 });\r\n    } catch (error) {\r\n        return NextResponse.json({ message: 'Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\dashboard\\create\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[708,711],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[708,711],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ArrowLeft, Save, Loader2 } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\nconst ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n\r\nexport default function CreateRoscoPage() {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const [title, setTitle] = useState('');\r\n    const [questions, setQuestions] = useState(\r\n        ALPHABET.map((letter) => ({\r\n            letter,\r\n            question: '',\r\n            answer: '',\r\n            startsWith: true,\r\n        }))\r\n    );\r\n\r\n    const handleQuestionChange = (index: number, field: string, value: any) => {\r\n        const newQuestions = [...questions];\r\n        newQuestions[index] = { ...newQuestions[index], [field]: value };\r\n        setQuestions(newQuestions);\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        // Filter out empty questions if we want to allow partial Roscos, \r\n        // but usually a Rosco has all letters. For now, let's just send them all.\r\n        // Validation could be added here.\r\n\r\n        try {\r\n            const res = await fetch('/api/roscos', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ title, questions }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                router.push('/dashboard');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error creating rosco:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background p-8\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n                <header className=\"flex items-center gap-4 mb-8\">\r\n                    <Link href=\"/dashboard\" className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\r\n                        <ArrowLeft className=\"w-6 h-6 text-white\" />\r\n                    </Link>\r\n                    <h1 className=\"text-3xl font-bold text-white\">Crear Nuevo Rosco</h1>\r\n                </header>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n                    <div className=\"bg-card p-6 rounded-2xl border border-white/10\">\r\n                        <label className=\"block text-sm font-medium text-gray-400 mb-2\">T├¡tulo del Rosco</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={title}\r\n                            onChange={(e) => setTitle(e.target.value)}\r\n                            className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"Ej: Repaso de Historia - Unidad 1\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid gap-6\">\r\n                        {questions.map((q, index) => (\r\n                            <div key={q.letter} className=\"bg-card p-6 rounded-2xl border border-white/10 hover:border-blue-500/30 transition-all\">\r\n                                <div className=\"flex items-center gap-4 mb-4\">\r\n                                    <div className=\"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center font-bold text-xl text-white\">\r\n                                        {q.letter}\r\n                                    </div>\r\n                                    <div className=\"flex-1 h-px bg-white/10\"></div>\r\n                                </div>\r\n\r\n                                <div className=\"grid md:grid-cols-2 gap-4\">\r\n                                    <div className=\"md:col-span-2\">\r\n                                        <label className=\"block text-xs font-medium text-gray-500 mb-1\">Pregunta / Definici├│n</label>\r\n                                        <textarea\r\n                                            required\r\n                                            value={q.question}\r\n                                            onChange={(e) => handleQuestionChange(index, 'question', e.target.value)}\r\n                                            className=\"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 resize-none\"\r\n                                            placeholder={`Definici├│n para la letra ${q.letter}...`}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-500 mb-1\">Respuesta</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            required\r\n                                            value={q.answer}\r\n                                            onChange={(e) => handleQuestionChange(index, 'answer', e.target.value)}\r\n                                            className=\"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                                            placeholder=\"Respuesta correcta\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-500 mb-1\">Condici├│n</label>\r\n                                        <select\r\n                                            value={q.startsWith ? 'true' : 'false'}\r\n                                            onChange={(e) => handleQuestionChange(index, 'startsWith', e.target.value === 'true')}\r\n                                            className=\"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                                        >\r\n                                            <option value=\"true\">Empieza con {q.letter}</option>\r\n                                            <option value=\"false\">Contiene {q.letter}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"sticky bottom-8 flex justify-end\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"flex items-center gap-2 bg-green-600 hover:bg-green-500 text-white px-8 py-4 rounded-full font-bold text-lg shadow-xl hover:shadow-green-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {loading ? <Loader2 className=\"animate-spin\" /> : <Save className=\"w-5 h-5\" />}\r\n                            Guardar Rosco\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[286,289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[286,289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { Plus, Play, Edit, Trash2, Loader2 } from 'lucide-react';\r\n\r\ninterface GameConfig {\r\n    _id: string;\r\n    title: string;\r\n    questions: any[];\r\n    createdAt: string;\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const router = useRouter();\r\n    const [roscos, setRoscos] = useState<GameConfig[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchRoscos();\r\n    }, []);\r\n\r\n    const fetchRoscos = async () => {\r\n        try {\r\n            const res = await fetch('/api/roscos');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setRoscos(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching roscos:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const createGame = async (configId: string) => {\r\n        try {\r\n            const res = await fetch('/api/games', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ configId }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const { code } = await res.json();\r\n                router.push(`/host/${code}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error creating game:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                <header className=\"flex justify-between items-center mb-12\">\r\n                    <div>\r\n                        <h1 className=\"text-4xl font-bold text-white mb-2\">Mis Roscos</h1>\r\n                        <p className=\"text-gray-400\">Gestiona tus partidas y preguntas</p>\r\n                    </div>\r\n                    <Link\r\n                        href=\"/dashboard/create\"\r\n                        className=\"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-full font-semibold transition-all shadow-lg hover:shadow-blue-500/25\"\r\n                    >\r\n                        <Plus className=\"w-5 h-5\" />\r\n                        Crear Nuevo Rosco\r\n                    </Link>\r\n                </header>\r\n\r\n                {loading ? (\r\n                    <div className=\"flex justify-center py-20\">\r\n                        <Loader2 className=\"w-10 h-10 text-blue-500 animate-spin\" />\r\n                    </div>\r\n                ) : roscos.length === 0 ? (\r\n                    <div className=\"text-center py-20 bg-card rounded-3xl border border-white/5\">\r\n                        <h3 className=\"text-xl font-semibold text-white mb-2\">No tienes Roscos creados</h3>\r\n                        <p className=\"text-gray-400 mb-8\">Crea tu primer juego para empezar a jugar con tus alumnos</p>\r\n                        <Link\r\n                            href=\"/dashboard/create\"\r\n                            className=\"text-blue-400 hover:text-blue-300 font-medium\"\r\n                        >\r\n                            Crear ahora &rarr;\r\n                        </Link>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {roscos.map((rosco) => (\r\n                            <div key={rosco._id} className=\"bg-card rounded-2xl p-6 border border-white/10 hover:border-blue-500/50 transition-all group\">\r\n                                <h3 className=\"text-xl font-bold text-white mb-2\">{rosco.title}</h3>\r\n                                <p className=\"text-sm text-gray-400 mb-6\">\r\n                                    {rosco.questions.length} preguntas ÔÇó Creado el {new Date(rosco.createdAt).toLocaleDateString()}\r\n                                </p>\r\n\r\n                                <div className=\"flex gap-3\">\r\n                                    <button\r\n                                        onClick={() => createGame(rosco._id)}\r\n                                        className=\"flex-1 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\r\n                                    >\r\n                                        <Play className=\"w-4 h-4\" /> Jugar\r\n                                    </button>\r\n                                    <Link\r\n                                        href={`/dashboard/edit/${rosco._id}`}\r\n                                        className=\"p-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-colors\"\r\n                                    >\r\n                                        <Edit className=\"w-4 h-4\" />\r\n                                    </Link>\r\n                                    <button className=\"p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors\">\r\n                                        <Trash2 className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\host\\[code]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\join\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1078,1081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1078,1081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        const formData = new FormData(e.currentTarget);\r\n        const data = Object.fromEntries(formData);\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(data),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                const json = await res.json();\r\n                throw new Error(json.message || 'Error al iniciar sesi├│n');\r\n            }\r\n\r\n            router.push('/dashboard');\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md space-y-8 rounded-2xl bg-card p-8 shadow-2xl border border-white/10 backdrop-blur-sm\">\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-3xl font-bold tracking-tight text-white\">Bienvenido de nuevo</h2>\r\n                    <p className=\"mt-2 text-sm text-gray-400\">Ingresa a tu cuenta para gestionar tus Roscos</p>\r\n                </div>\r\n\r\n                <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"username\" className=\"sr-only\">Usuario</label>\r\n                            <input\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                type=\"text\"\r\n                                required\r\n                                className=\"relative block w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm transition-colors\"\r\n                                placeholder=\"Nombre de usuario\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"sr-only\">Contrase├▒a</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                required\r\n                                className=\"relative block w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm transition-colors\"\r\n                                placeholder=\"Contrase├▒a\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"text-red-400 text-sm text-center bg-red-900/20 p-2 rounded-lg border border-red-900/50\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"group relative flex w-full justify-center rounded-lg bg-blue-600 px-4 py-3 text-sm font-semibold text-white hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\r\n                    >\r\n                        {loading ? <Loader2 className=\"animate-spin h-5 w-5\" /> : 'Ingresar'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"text-center text-sm\">\r\n                    <span className=\"text-gray-400\">┬┐No tienes cuenta? </span>\r\n                    <Link href=\"/register\" className=\"font-medium text-blue-400 hover:text-blue-300 transition-colors\">\r\n                        Reg├¡strate gratis\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\play\\[code]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":27},{"ruleId":"prefer-const","severity":2,"message":"'nextIndex' is never reassigned. Use 'const' instead.","line":132,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":132,"endColumn":22,"fix":{"range":[4487,4540],"text":"const nextIndex = (currentIndex + 1) % ALPHABET.length;"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'radius' is assigned a value but never used.","line":189,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":189,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mdRadius' is assigned a value but never used.","line":190,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":190,"endColumn":39}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":1,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { Loader2, Check, X, Clock } from 'lucide-react';\r\nimport confetti from 'canvas-confetti';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Question {\r\n    letter: string;\r\n    question: string;\r\n    startsWith: boolean;\r\n}\r\n\r\ninterface GameState {\r\n    status: 'WAITING' | 'PLAYING' | 'FINISHED';\r\n    startTime?: string;\r\n    config?: {\r\n        questions: Question[];\r\n    };\r\n    myProgress?: { [letter: string]: 'pending' | 'correct' | 'incorrect' | 'pasapalabra' };\r\n    myScore?: number;\r\n}\r\n\r\nconst ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n\r\nexport default function GamePage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(true);\r\n    const [gameState, setGameState] = useState<GameState | null>(null);\r\n    const [currentLetter, setCurrentLetter] = useState<string>('A');\r\n    const [answer, setAnswer] = useState('');\r\n    const [timeLeft, setTimeLeft] = useState(300); // 5 minutes default\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n    const code = params.code as string;\r\n\r\n    useEffect(() => {\r\n        const checkSession = () => {\r\n            const guestName = localStorage.getItem('rosco_guest_name');\r\n            if (!guestName) {\r\n                router.push('/join');\r\n            }\r\n        };\r\n        checkSession();\r\n    }, [router]);\r\n\r\n    useEffect(() => {\r\n        const fetchState = async () => {\r\n            try {\r\n                const guestName = localStorage.getItem('rosco_guest_name');\r\n                const res = await fetch(`/api/games/${code}?player=${guestName}`);\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    setGameState(data);\r\n\r\n                    // If game started and we haven't set current letter, find first pending\r\n                    if (data.status === 'PLAYING' && data.myProgress) {\r\n                        // Logic to find next pending letter could go here if we want to auto-jump\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching game state:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchState();\r\n        const interval = setInterval(fetchState, 2000); // Poll every 2s\r\n        return () => clearInterval(interval);\r\n    }, [code]);\r\n\r\n    useEffect(() => {\r\n        if (gameState?.status === 'PLAYING' && gameState.startTime) {\r\n            const start = new Date(gameState.startTime).getTime();\r\n            const now = new Date().getTime();\r\n            const elapsed = Math.floor((now - start) / 1000);\r\n            const remaining = Math.max(0, 300 - elapsed); // 5 min limit hardcoded for now\r\n            setTimeLeft(remaining);\r\n\r\n            if (remaining === 0) {\r\n                // Handle timeout\r\n            }\r\n        }\r\n    }, [gameState]);\r\n\r\n    const submitAnswer = async (action: 'answer' | 'pasapalabra') => {\r\n        if (!gameState || submitting) return;\r\n        setSubmitting(true);\r\n\r\n        const guestName = localStorage.getItem('rosco_guest_name');\r\n\r\n        try {\r\n            const res = await fetch(`/api/games/${code}/answer`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    player: guestName,\r\n                    letter: currentLetter,\r\n                    answer: action === 'answer' ? answer : null,\r\n                    action\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const result = await res.json();\r\n\r\n                if (result.correct) {\r\n                    confetti({\r\n                        particleCount: 50,\r\n                        spread: 60,\r\n                        origin: { y: 0.7 }\r\n                    });\r\n                }\r\n\r\n                setAnswer('');\r\n                moveToNextLetter();\r\n            }\r\n        } catch (error) {\r\n            console.error('Error submitting answer:', error);\r\n        } finally {\r\n            setSubmitting(false);\r\n            inputRef.current?.focus();\r\n        }\r\n    };\r\n\r\n    const moveToNextLetter = () => {\r\n        const currentIndex = ALPHABET.indexOf(currentLetter);\r\n        let nextIndex = (currentIndex + 1) % ALPHABET.length;\r\n\r\n        // Find next pending letter\r\n        // Simple implementation: just go to next. Real app should skip completed ones.\r\n        setCurrentLetter(ALPHABET[nextIndex]);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-background\">\r\n                <Loader2 className=\"w-10 h-10 text-blue-500 animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!gameState) return null;\r\n\r\n    if (gameState.status === 'WAITING') {\r\n        return (\r\n            <div className=\"min-h-screen flex flex-col items-center justify-center bg-background p-4 text-center\">\r\n                <div className=\"animate-pulse mb-8\">\r\n                    <div className=\"w-24 h-24 rounded-full bg-blue-600/20 flex items-center justify-center mx-auto mb-4\">\r\n                        <Clock className=\"w-12 h-12 text-blue-500\" />\r\n                    </div>\r\n                </div>\r\n                <h1 className=\"text-4xl font-bold text-white mb-4\">Esperando al anfitri├│n...</h1>\r\n                <p className=\"text-xl text-gray-400\">Tu nombre: <span className=\"text-white font-semibold\">{localStorage.getItem('rosco_guest_name')}</span></p>\r\n                <p className=\"text-sm text-gray-500 mt-8\">El juego comenzar├í pronto</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (gameState.status === 'FINISHED') {\r\n        return (\r\n            <div className=\"min-h-screen flex flex-col items-center justify-center bg-background p-4 text-center\">\r\n                <h1 className=\"text-4xl font-bold text-white mb-4\">┬íJuego Terminado!</h1>\r\n                <p className=\"text-2xl text-blue-400 mb-8\">Tu puntaje: {gameState.myScore}</p>\r\n                <button\r\n                    onClick={() => router.push('/')}\r\n                    className=\"bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-full transition-colors\"\r\n                >\r\n                    Volver al inicio\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const currentQuestion = gameState.config?.questions.find(q => q.letter === currentLetter);\r\n    const progress = gameState.myProgress || {};\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background flex flex-col md:flex-row overflow-hidden\">\r\n            {/* Rosco Circle */}\r\n            <div className=\"w-full md:w-1/2 h-[50vh] md:h-screen flex items-center justify-center relative p-8\">\r\n                <div className=\"relative w-[300px] h-[300px] md:w-[500px] md:h-[500px]\">\r\n                    {ALPHABET.map((letter, i) => {\r\n                        const angle = (i * 360) / ALPHABET.length - 90;\r\n                        const radius = 140; // Mobile radius\r\n                        const mdRadius = 240; // Desktop radius\r\n\r\n                        // Calculate position\r\n                        // We need responsive radius. CSS transform is easier but positioning is tricky.\r\n                        // Let's use inline styles with calc for simplicity or media queries if we could.\r\n                        // For now, hardcode desktop, maybe scale with transform.\r\n\r\n                        const x = Math.cos((angle * Math.PI) / 180);\r\n                        const y = Math.sin((angle * Math.PI) / 180);\r\n\r\n                        const status = progress[letter] || 'pending';\r\n\r\n                        return (\r\n                            <div\r\n                                key={letter}\r\n                                className={cn(\r\n                                    \"absolute w-8 h-8 md:w-12 md:h-12 rounded-full flex items-center justify-center text-sm md:text-lg font-bold border-2 transition-all duration-300\",\r\n                                    \"left-1/2 top-1/2 -ml-4 -mt-4 md:-ml-6 md:-mt-6\", // Center offset\r\n                                    status === 'pending' && letter === currentLetter && \"bg-blue-500 border-blue-400 text-white scale-125 z-10 shadow-[0_0_20px_rgba(59,130,246,0.5)]\",\r\n                                    status === 'pending' && letter !== currentLetter && \"bg-blue-900/40 border-blue-800 text-blue-200\",\r\n                                    status === 'correct' && \"bg-green-500 border-green-400 text-white\",\r\n                                    status === 'incorrect' && \"bg-red-500 border-red-400 text-white\",\r\n                                    status === 'pasapalabra' && \"bg-yellow-500 border-yellow-400 text-white\"\r\n                                )}\r\n                                style={{\r\n                                    transform: `translate(${x * 140}px, ${y * 140}px)`, // Mobile default\r\n                                    // We'll use a media query style block or just simple JS logic for responsiveness if needed.\r\n                                    // For better responsiveness, let's use a wrapper with scale.\r\n                                }}\r\n                            >\r\n                                {letter}\r\n                            </div>\r\n                        );\r\n                    })}\r\n\r\n                    {/* Timer Center */}\r\n                    <div className=\"absolute inset-0 flex flex-col items-center justify-center text-white\">\r\n                        <div className=\"text-4xl md:text-6xl font-bold font-mono tracking-tighter\">\r\n                            {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-400 mt-2\">TIEMPO RESTANTE</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Question & Input Area */}\r\n            <div className=\"w-full md:w-1/2 h-[50vh] md:h-screen bg-card border-t md:border-t-0 md:border-l border-white/10 p-8 flex flex-col justify-center\">\r\n                <div className=\"max-w-xl mx-auto w-full space-y-8\">\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center gap-3 text-blue-400 font-medium\">\r\n                            <span className=\"px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-sm\">\r\n                                {currentQuestion?.startsWith ? `Empieza por ${currentLetter}` : `Contiene la ${currentLetter}`}\r\n                            </span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl md:text-4xl font-bold text-white leading-tight\">\r\n                            {currentQuestion?.question}\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <form\r\n                        onSubmit={(e) => { e.preventDefault(); submitAnswer('answer'); }}\r\n                        className=\"space-y-4\"\r\n                    >\r\n                        <input\r\n                            ref={inputRef}\r\n                            type=\"text\"\r\n                            value={answer}\r\n                            onChange={(e) => setAnswer(e.target.value)}\r\n                            className=\"w-full bg-white/5 border border-white/10 rounded-xl px-6 py-4 text-xl text-white placeholder-gray-600 focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                            placeholder=\"Escribe tu respuesta...\"\r\n                            autoFocus\r\n                            autoComplete=\"off\"\r\n                        />\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!answer || submitting}\r\n                                className=\"bg-green-600 hover:bg-green-500 text-white px-6 py-4 rounded-xl font-bold text-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                            >\r\n                                <Check className=\"w-5 h-5\" /> Responder\r\n                            </button>\r\n\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => submitAnswer('pasapalabra')}\r\n                                disabled={submitting}\r\n                                className=\"bg-yellow-600 hover:bg-yellow-500 text-white px-6 py-4 rounded-xl font-bold text-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                Pasapalabra\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Responsive Style Injection for Desktop Radius */}\r\n            <style jsx global>{`\r\n        @media (min-width: 768px) {\r\n          ${ALPHABET.map((_, i) => {\r\n                const angle = (i * 360) / ALPHABET.length - 90;\r\n                const x = Math.cos((angle * Math.PI) / 180);\r\n                const y = Math.sin((angle * Math.PI) / 180);\r\n                // Override transform for desktop\r\n                return `\r\n              .relative > div:nth-child(${i + 1}) {\r\n                transform: translate(${x * 220}px, ${y * 220}px) !important;\r\n              }\r\n            `;\r\n            }).join('\\n')}\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\app\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1317,1320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1317,1320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\nexport default function RegisterPage() {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        const formData = new FormData(e.currentTarget);\r\n        const data = Object.fromEntries(formData);\r\n\r\n        if (data.password !== data.confirmPassword) {\r\n            setError('Las contrase├▒as no coinciden');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username: data.username, password: data.password }),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                const json = await res.json();\r\n                throw new Error(json.message || 'Error al registrarse');\r\n            }\r\n\r\n            router.push('/login?registered=true');\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md space-y-8 rounded-2xl bg-card p-8 shadow-2xl border border-white/10 backdrop-blur-sm\">\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-3xl font-bold tracking-tight text-white\">Crear cuenta</h2>\r\n                    <p className=\"mt-2 text-sm text-gray-400\">├Ünete para crear y guardar tus propios Roscos</p>\r\n                </div>\r\n\r\n                <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"username\" className=\"sr-only\">Usuario</label>\r\n                            <input\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                type=\"text\"\r\n                                required\r\n                                className=\"relative block w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm transition-colors\"\r\n                                placeholder=\"Nombre de usuario\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"sr-only\">Contrase├▒a</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                required\r\n                                className=\"relative block w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm transition-colors\"\r\n                                placeholder=\"Contrase├▒a\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"confirmPassword\" className=\"sr-only\">Confirmar Contrase├▒a</label>\r\n                            <input\r\n                                id=\"confirmPassword\"\r\n                                name=\"confirmPassword\"\r\n                                type=\"password\"\r\n                                required\r\n                                className=\"relative block w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm transition-colors\"\r\n                                placeholder=\"Confirmar Contrase├▒a\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"text-red-400 text-sm text-center bg-red-900/20 p-2 rounded-lg border border-red-900/50\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"group relative flex w-full justify-center rounded-lg bg-blue-600 px-4 py-3 text-sm font-semibold text-white hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\r\n                    >\r\n                        {loading ? <Loader2 className=\"animate-spin h-5 w-5\" /> : 'Registrarse'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"text-center text-sm\">\r\n                    <span className=\"text-gray-400\">┬┐Ya tienes cuenta? </span>\r\n                    <Link href=\"/login\" className=\"font-medium text-blue-400 hover:text-blue-300 transition-colors\">\r\n                        Inicia sesi├│n\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\lib\\db.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-var').","line":22,"column":3,"severity":1,"nodeType":null,"fix":{"range":[523,557],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error(\r\n    'Please define the MONGODB_URI environment variable inside .env.local'\r\n  );\r\n}\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\ninterface MongooseCache {\r\n  conn: typeof mongoose | null;\r\n  promise: Promise<typeof mongoose> | null;\r\n}\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var mongoose: MongooseCache | undefined;\r\n}\r\n\r\nlet cached: MongooseCache = global.mongoose || { conn: null, promise: null };\r\n\r\nif (!cached) {\r\n  cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) {\r\n    return cached.conn;\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.promise = mongoose.connect(MONGODB_URI!, opts).then((mongoose) => {\r\n      return mongoose;\r\n    });\r\n  }\r\n\r\n  try {\r\n    cached.conn = await cached.promise;\r\n  } catch (e) {\r\n    cached.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\models\\GameConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\models\\GameSession.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\models\\User.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\nacho\\Desktop\\Rosco\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
